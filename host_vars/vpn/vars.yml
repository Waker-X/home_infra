---
ufw:
  allow:
  - port: '{{ security_ssh_port }}' # SSH port
    proto: 'tcp'
  - port: '{{ wireguard_port }}'
    proto: 'udp'
  from: # Allow all access from RFC1918 networks to this host
  - src: '10.0.0.0/8'
  - src: '172.16.0.0/12'
  - src: '192.168.0.0/16'
#
# Wireguard
#
wireguard_port: "61677" 
wireguard_endpoint: "" # Your external IP vpn server
wireguard_ubuntu_update_cache: "false"
wireguard_addresses:
  - "10.66.66.1/24"
wireguard_allowed_ips: "0.0.0.0/0"
wireguard_postup:
  - iptables -A FORWARD -i ens18 -o wg0 -j ACCEPT; iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o ens18 -j MASQUERADE
wireguard_postdown:
  - iptables -D FORWARD -i ens18 -o wg0 -j ACCEPT; iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o ens18 -j MASQUERADE
wireguard_unmanaged_peers: # example peers
  mikrotik:
    public_key: "1gX+cfxWrbU92KXQLZCsJLg2q9ErFz51m1CdSOTvXws="
    preshared_key: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      32363838313634393362326237636164303439353638616531663437376164663435636162376632
      3639373435396165643133363662656562623039623432380a343537396638653563396563383839
      34343038383630653062623061303339666666386533353730643733616635633834323338356439
      3663613233383035640a356337303134616539323133333361323032376437333565316430636237
      32333336323661633664393161626261376366633464373337383834356231663435633436663731
      6465393533353132663438663130363636636235323265663062
    allowed_ips: "10.66.66.3/32, 192.168.100.0/24, 10.77.77.0/24"
  viktorb_mobile:
    public_key: "5RA3PrdFF8H/qd/B4bKCB6W7iJKSfpHBJPhkaR3FHzc="
    preshared_key: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      65353734313762656132306234393736313964666635616332623264626439303362653539343664
      3762333532646233373334386639323964653161343966340a336561303634623233393332333334
      61373362343236376139653362366462333430366334396135396530373839313837623137653535
      3233353938613736340a313630316466383465613661333632303062623765326465343133373931
      37316136393032636137343764363732353132333066616537356362656264333938346364336162
      3735366461623230336663316536323862373765363231616536
    allowed_ips: "10.66.66.4/32"
  viktor_pc:
    public_key: "nCoQCoJ3uJ7GW2HD8is8npoMxL1C18EI1B0TcOYH8Rs="
    preshared_key: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        62383066333639666365663864323831623337666466323761396264376339613464323861323134
        3863333166393536383835376362346436313137386238650a326266313763336339343131636234
        39633539613539653235303230626661353464306138646232326231346332383265376139336538
        3132656337393136610a396437363563393564306165363436386334303966343532323236393266
        33623139396335303164663734313932316261653361653036623930616165316131326535643164
        3964656434373535383266383261643137336466373135316634
    allowed_ips: "10.66.66.2/32"
  alena_mobile:
    public_key: "BTIU1xM716oOhQOe+dfCCBrm6FyCwnFCc6SnvHDLfWY="
    preshared_key: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      37656561346632306265323663333636346263373733343765653333326434313338303139373166
      3162396137633361386531653734663033306165663065370a373234623631393464626539653139
      34373137333464316337663634646434313162386331663062663230333366313163356539656638
      6434313663613936350a626162356437343365313966633165346635633939353531333763323836
      38643564343232663163343235626635343766653335633636356264373431326263366439376562
      3931396364326436636436646133653230323464633363356261
    allowed_ips: "10.66.66.6/32"
  alena_pc:
    public_key: "91B4fQqzdCmycH+/yOSPVHCtU5GUl7GlekdkrD5EDm8="
    preshared_key: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      62366661626334383835396366313536383530653934623537666132623463633264326436623866
      6365313634666631333937333530336461613334303635650a616462633062613364386631333531
      66643761363764383563346663306635313634643062316639643837363835343635623666626236
      6564366264616336330a626536643461333163626364623439363863306165353330363863663539
      32326335393365356636316135643631363833396166373434383663376363313130393937353036
      3338623063656232636265313137643664376430343366356432
    allowed_ips: "10.66.66.5/32"
  father_mobile:
    public_key: "opJUFd7CN+urPDHPs1fcRw2/Fe6uQwfyG5WHvCMAsD4="
    preshared_key: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      66393935623838353136626132613632383037303166383538656563313162383238313931623164
      3037376466386363303538383331626562396133316430650a643565313136333463626139316438
      37323761636263333834666466663931333539376561303630653234616634383465383832336137
      3931313030383665330a613638376133306635643535366235653966323030303333653336613362
      34663062323664303137323064386266306430616365663934663561343633343965306264653332
      3934613233613666643932643132326630326537396232643338
    allowed_ips: "10.66.66.7/32"
